<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>오픈소스컨설팅 CI CD 엔지니어 지원자 정광필 - 구축 완료서</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="44865c94-a7cf-4fb2-9f25-01ebac09023b" class="page sans"><header><img class="page-cover-image" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/cicd.jpeg" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">🧑‍💻</span></div><h1 class="page-title">오픈소스컨설팅 CI CD 엔지니어 지원자 정광필 - 구축 완료서</h1><p class="page-description"></p></header><div class="page-body"><p id="c428fb5b-040c-4b1d-ac74-26d3493ebfa9" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="7382eb85-ba37-4e88-be9c-aa2155a4e1d6"><div style="font-size:1.5em"><span class="icon">📝</span></div><div style="width:100%">본 문서는 오픈소스컨설팅 CI CD 엔지니어 직무의 사전 과제인 <strong>CI / CD Tool 구축 &amp; Web Application 배포</strong>의 전 과정을 정리한 문서입니다.</div></figure><h1 id="e2875e85-c78d-449b-81e6-edc9b21a8195" class="">🗂️ 목차</h1><nav id="fc785503-223a-432f-9340-7bd91631c3fd" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#e2875e85-c78d-449b-81e6-edc9b21a8195">🗂️ 목차</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#0621ea5d-ee6c-4d2b-bba4-5244e37290a6">1. 서버 스펙 &amp; 접속정보</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#794bfbfa-82bb-4398-94df-77141a52a9e3">1.1 서버 스펙(GCP Instance)</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#8cb82b03-8d7d-4a5f-a5d2-828bc5b7e0c4">1.2 Jenkins 접속정보</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#6fca9e63-0739-4fd7-9343-af07fad55a94">1.3 Harbor 접속정보</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5336f977-7090-415e-aaab-651ab43cff99">1.4 Web Application(이력서) 접속정보</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#dfba1012-5d30-4c73-85bc-c61b0e697e70">2. Jenkins, Harbor 구축 방식</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#831ddc65-b0a5-41be-8111-1e4326025273">2.1 Jenkins 구축 방식</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#ac3cf595-ab19-4ac2-9d80-3829db655ecb">2.1.1 Dockerfile &amp; docker-compose.yml 설정</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#dd593e05-b2d9-4352-8bc6-e13b4ac0152b">2.1.2 Jenkins 초기설정</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#0d001960-166a-4ff4-a66e-5cee1c062af7">2.2 Harbor 구축 방식</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#4d61a0bf-5c2b-4eec-8b99-9dece3e7dabd">2.2.1 OpenSSL 인증서 생성</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#edb3b1d5-9fb1-4bdb-a6d6-3ebf3dd3806b">2.2.2 Harbor 구성요소 다운로드 &amp; 서버 실행</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#32cc6765-b20c-4aea-a152-942e709d16fb">3. CI / CD 파이프라인 구성</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d4ab6f78-15d5-4105-921d-a20d04ba31e6">3.1 CI / CD Pipeline Architecture</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#7fec3f9d-6bfe-460d-bf53-c5a467c9c233">3.1.1 Commit &amp; Push</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#9c41fcf2-fc0f-48ef-a519-ca5de1d83acc">3.1.2 Git Webhook</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#8de16804-ce48-4189-b704-39686e84c5cd">3.1.3 Git Clone In Server</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#40a668f5-acb4-4bb5-a06d-ce2066b2ec78">3.1.4 Build Docker Image</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#e6c9f42e-16ea-4089-87ae-b4c96233e2a6">3.1.5 Deploy to Server</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#efb7e5bb-c977-40f5-a1db-15f06bbbb99b">3.1.6 Push Docker Image</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5dffe195-300a-4ea4-8153-a79b91c7fd91">3.2 Jenkinsfile</a></div></nav><hr id="1166386e-a992-4cf9-8852-32122da8c44e"/><h1 id="0621ea5d-ee6c-4d2b-bba4-5244e37290a6" class="">1. 서버 스펙 &amp; 접속정보</h1><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="0d143b40-03ad-4bbe-9154-731d8a412f5d"><div style="font-size:1.5em"><span class="icon">🔑</span></div><div style="width:100%">이 항목에서는 본 프로젝트에서 사용된 <strong>서버의 세부 스펙 &amp; 구축된 CI / CD Tool &amp; Web Application의 접속정보</strong>를 설명합니다.</div></figure><h2 id="794bfbfa-82bb-4398-94df-77141a52a9e3" class="">1.1 서버 스펙(GCP Instance)</h2><ul id="85ed440e-1396-4217-b1bd-5aa0c42fbad3" class="bulleted-list"><li style="list-style-type:disc">IP : 34.47.66.174</li></ul><ul id="3edb46a9-5044-466a-aff6-53dce37b666c" class="bulleted-list"><li style="list-style-type:disc">CPU : 4core</li></ul><ul id="c0755336-c3d9-456d-9525-5bff8757cd09" class="bulleted-list"><li style="list-style-type:disc">RAM : 16GB</li></ul><ul id="96fb8d57-9e99-4564-be2c-dc43d4b9c865" class="bulleted-list"><li style="list-style-type:disc">Disk : 10GB</li></ul><h2 id="8cb82b03-8d7d-4a5f-a5d2-828bc5b7e0c4" class="">1.2 Jenkins 접속정보</h2><ul id="d2b820b5-062b-4509-98d0-9be04b8ffb94" class="bulleted-list"><li style="list-style-type:disc">URL : <a href="http://34.47.66.174:8080">http://34.47.66.174:8080</a></li></ul><ul id="26c1acce-74e1-46f5-8d46-14673dc1db68" class="bulleted-list"><li style="list-style-type:disc">ID : kpjeong</li></ul><ul id="3d130262-f46a-4490-aaf3-3e050891befa" class="bulleted-list"><li style="list-style-type:disc">PW : 1234</li></ul><h2 id="6fca9e63-0739-4fd7-9343-af07fad55a94" class="">1.3 Harbor 접속정보</h2><ul id="688a37ea-2459-4d3a-98b5-9b77af2807e1" class="bulleted-list"><li style="list-style-type:disc">URL : <a href="https://34.47.66.174">https://34.47.66.174</a></li></ul><ul id="c65b0842-9a56-4abc-a8bb-fcdd709d39d1" class="bulleted-list"><li style="list-style-type:disc">ID : admin</li></ul><ul id="d144405b-5504-46a7-860d-b7b0eebb8074" class="bulleted-list"><li style="list-style-type:disc">PW : Harbor12345</li></ul><h2 id="5336f977-7090-415e-aaab-651ab43cff99" class="">1.4 Web Application(이력서) 접속정보</h2><ul id="aa5d6bba-67e4-4b9b-8de9-8a743f3db7cc" class="bulleted-list"><li style="list-style-type:disc">URL : <a href="http://34.47.66.174:8000">http://34.47.66.174:8000</a></li></ul><p id="7d3bd7e1-c2f2-464a-a197-457e5b31c20b" class="">
</p><hr id="7ae8348f-6ae6-4391-b1ed-550d09b08ebb"/><h1 id="dfba1012-5d30-4c73-85bc-c61b0e697e70" class="">2. Jenkins, Harbor 구축 방식</h1><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="9ddca04b-14ab-4cf0-89d6-f61bd12260a9"><div style="font-size:1.5em"><span class="icon">🛠</span></div><div style="width:100%">이 항목에서는 본 프로젝트에 <strong>자동</strong> <strong>Build &amp; Deploy Tool로 사용될 Jenkins</strong>와 <strong>Docker Image Registry로 사용될 Harbor</strong>의 구축 방식을 설명합니다.</div></figure><h2 id="831ddc65-b0a5-41be-8111-1e4326025273" class="">2.1 Jenkins 구축 방식</h2><p id="132c2925-9dbb-4444-ab9c-fe8d254ae9bd" class=""><mark class="highlight-red"><strong>** Jenkins 구축 전 서버에 docker, docker-compose가 설치되어 있어야 합니다 **</strong></mark></p><h3 id="ac3cf595-ab19-4ac2-9d80-3829db655ecb" class="">2.1.1 Dockerfile &amp; docker-compose.yml 설정</h3><ul id="116a40d1-30e0-416c-8339-239d0b700a1d" class="bulleted-list"><li style="list-style-type:disc">아래 명령어를 통해 <code>Dockerfile</code> &amp; <code>docker-compose.yml</code> 파일을 추가할 폴더를 생성한 뒤, 폴더에 들어갑니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="77f96ea9-fb6a-43c6-9142-459ed2cd80f1" class="code"><code class="language-Shell">$ mkdir config_jenkins/
$ cd config_jenkins</code></pre><p id="d061ebb8-2ac7-473f-8b1f-17be09b29b49" class="">
</p><ul id="3f8fd214-eb1d-436d-bf76-9706c1a9e3c4" class="bulleted-list"><li style="list-style-type:disc">아래 명령어를 통해 Jenkins 구축에 사용할 <code>Dokerfile</code>을 생성합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c4a2235e-68bc-4c88-84c1-338543118783" class="code"><code class="language-Shell">$ vi Dockerfile</code></pre><p id="c2970b27-b8c1-4d54-a9eb-bab06948ca0d" class="">
</p><ul id="9cd95de0-b37a-43ae-bdb0-666980618704" class="bulleted-list"><li style="list-style-type:disc">Jenkins Image를 토대로 jenkins를 구성해주는 스크립트를 위에서 생성했던 <code>Dockerfile</code>에 추가한 뒤, 저장합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7042c7ae-fa21-44ce-aca6-c530368f914f" class="code"><code class="language-Docker">FROM jenkins/jenkins:lts

USER root

RUN apt-get update &amp;&amp; \
    apt-get -y install apt-transport-https \
        ca-certificates \
        curl \
        gnupg2 \
        zip \
        unzip \
        software-properties-common &amp;&amp; \
    curl -fsSL https://download.docker.com/linux/$(. /etc/os-release; echo &quot;$ID&quot;)/gpg &gt; /tmp/dkey; apt-key add /tmp/dkey &amp;&amp; \
    add-apt-repository \
    &quot;deb [arch=amd64] https://download.docker.com/linux/$(. /etc/os-release; echo &quot;$ID&quot;) \
    $(lsb_release -cs) \
    stable&quot; &amp;&amp; \
    apt-get update &amp;&amp; \
    apt-get -y install docker-ce</code></pre><p id="e5785bb6-395d-4b80-b16a-70c831bacf92" class="">
</p><ul id="41be9ce4-fc26-4084-99a5-8859365a5ac5" class="bulleted-list"><li style="list-style-type:disc">아래 명령어를 통해 <code>Dockerfile</code>과 같은 경로에 <code>docker-compose.yml</code> 파일을 생성합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b9ab61d3-3ae6-457b-b70e-6eff4bc2a5dd" class="code"><code class="language-Shell">$ vi docker-compose.yml</code></pre><p id="34769158-54ce-4416-b4c8-b5013712dc3d" class="">
</p><ul id="b488f36d-9dcc-4344-acaa-0392dce89718" class="bulleted-list"><li style="list-style-type:disc"><code>Dockerfile</code>을 Build하고 Deploy하는 스크립트를 위에서 생성했던 <code>docker-compose.yml</code> 파일에 추가한 뒤, 저장합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9929516a-ac48-4b4c-b34f-eb173e5e59ae" class="code"><code class="language-Docker">version: &#x27;3.7&#x27;

services:
  jenkins:
    build:
      context: .
    container_name: jenkins
    user: root
    ports:
      - 8080:8080
      - 50000:50000
    volumes:
      - ./jenkins_home:/var/jenkins_home
      - //var/run/docker.sock:/var/run/docker.sock</code></pre><p id="1ba5fbe1-214b-42fa-936a-072a9aad363b" class="">
</p><ul id="760aa45e-3a46-4794-8d38-cc1cfb990fd9" class="bulleted-list"><li style="list-style-type:disc">아래 명령어를 통해 <code>docker-compose</code>를 실행합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="82d83267-4683-4707-8e26-1e8571ba043b" class="code"><code class="language-Shell">$ docker-compose up -d</code></pre><p id="ec4b6b59-35d2-47bd-b5f5-d234ae6a35e1" class="">
</p><ul id="fedcc71d-2eb6-491c-9f7d-6f7bb14a4d1d" class="bulleted-list"><li style="list-style-type:disc">아래 명령어를 통해 docker 위에 jenkins가 컨테이너로 실행중인지 확인합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3192ea0f-23eb-48ed-997c-06bff083ae8d" class="code"><code class="language-Shell">$ docker ps | grep jenkins
a90691ad9629  jenkins_config_jenkins &quot;/usr/bin/tini -- /u…&quot; 18 hours ago     Up 45 minutes             0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp, 0.0.0.0:50000-&gt;50000/tcp, :::50000-&gt;50000/tcp jenkins</code></pre><p id="65700f39-8910-4f7f-854b-323fba0197e6" class="">
</p><h3 id="dd593e05-b2d9-4352-8bc6-e13b4ac0152b" class="">2.1.2 Jenkins 초기설정</h3><ul id="db2a9a5e-2171-43df-a3ca-4017ac1c5525" class="bulleted-list"><li style="list-style-type:disc">아래 명령어를 사용하여 Jenkins의 Container_ID를 추출합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="91680b4e-f25d-4e17-8db5-a575c1bed34b" class="code"><code class="language-Shell">$ docker ps --filter &quot;name=jenkins&quot; --format &quot;{{.ID}}&quot;
a90691ad9629</code></pre><p id="a0574cf1-505e-4851-8a76-d9ee14d29e9f" class="">
</p><ul id="7a64be71-c59b-4feb-801b-a87a6a18bd53" class="bulleted-list"><li style="list-style-type:disc">아래 명령어를 사용하여 위에서 추출한 Jenkins Container_ID를 통해 Jenkins 컨테이너로 접속합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f8ea9d31-2bd3-4c4e-a24f-e48c20a70e6a" class="code"><code class="language-Shell">$ docker exec -it a90691ad9629 /bin/bash
root@a90691ad9629:/#</code></pre><p id="81caa113-3994-4e92-942b-658288048e39" class="">
</p><ul id="10611138-f920-4995-ad24-53982c6f3077" class="bulleted-list"><li style="list-style-type:disc">아래 명령어를 사용하여 Jenkins의 <code>initialAdminPassword</code> 토큰을 발급받습니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2030a71e-3da4-4725-bb7d-83302591f70b" class="code"><code class="language-Shell">$ cat /var/jenkins_home/secrets/initialAdminPassword
c5e08347fdbb43e6afa9f34f929cbe48</code></pre><p id="53421ca2-28fb-4b4e-84ed-f89eb5932c4b" class="">
</p><ul id="e8002672-a1ea-4242-bb87-d223f78d0531" class="bulleted-list"><li style="list-style-type:disc">브라우저(Ex. Chrome, Safari…)에서 Jenkins에 접속한 뒤 위에서 발급받은 <code>initialAdminPassword</code> 토큰을 입력한 뒤 오른쪽 하단 <strong>Continue</strong>를 클릭합니다.<ul id="48a9749b-a22c-452b-b89e-8052d65a4dec" class="bulleted-list"><li style="list-style-type:circle">Jenkins URL : http://{Server_IP}:8080</li></ul></li></ul><figure id="10eb69d3-788e-4a02-83ad-4c39f84ef99c" class="image"><a href="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled.png"><img style="width:1920px" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled.png"/></a></figure><p id="1a68e842-97bb-440c-8924-b2968301cf48" class="">
</p><ul id="d49cee92-18a1-4137-aadb-e3cdd432cb33" class="bulleted-list"><li style="list-style-type:disc"><strong>Install Suggested Plugins</strong> 버튼을 클릭합니다.</li></ul><figure id="8395821f-7ae0-44de-8b58-7cfbcc23e8ef" class="image"><a href="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%201.png"><img style="width:1376px" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%201.png"/></a></figure><p id="93f0b662-2ac8-4e39-a1e5-d941240fa99c" class="">
</p><ul id="aa16304e-e49f-4aa7-a7c1-2c68a01a5b62" class="bulleted-list"><li style="list-style-type:disc">설치가 진행될때까지 기다리면 Jenkins 구축이 완료됩니다.</li></ul><figure id="5934ce09-6bb5-4af0-9e4c-227f48ca01c5" class="image"><a href="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%202.png"><img style="width:1703px" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%202.png"/></a></figure><p id="eb47121a-81ab-49f5-b860-edf52b21a10c" class="">
</p><hr id="d8dfe6fd-c904-42e2-a15b-3d4c0de52227"/><h2 id="0d001960-166a-4ff4-a66e-5cee1c062af7" class="">2.2 Harbor 구축 방식</h2><p id="3f561841-28fa-462b-8c3a-26d3cf448d69" class=""><mark class="highlight-red"><strong>** Harbor 구축 전 서버에 docker, docker-compose가 설치되어 있어야 합니다 **</strong></mark></p><h3 id="4d61a0bf-5c2b-4eec-8b99-9dece3e7dabd" class="">2.2.1 OpenSSL 인증서 생성</h3><ul id="cc246d45-4217-4056-b297-57f01f7f65aa" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>home</code> 디렉토리로 이동 후 <code>cert</code> 폴더를 생성합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="48e894e4-6a3c-4f57-84d1-3dd9be9dfd84" class="code"><code class="language-Shell">$ cd /home
$ mkdir -p cert
$ cd cert</code></pre><p id="ae828ad3-f9e3-48f8-aa41-c8dc478ec091" class="">
</p><ul id="5ff14445-ab6a-463b-80b0-4f13de78dd8c" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>CA 인증서 비밀키</code>를 생성합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="fa447599-7b81-44c7-8a4f-d37ad0201d8d" class="code"><code class="language-Shell">$ openssl genrsa -out ca.key 4096</code></pre><p id="574baf8a-4c47-40df-b492-474a9a4e102f" class="">
</p><ul id="ae3bafba-cde2-4598-a49d-d0580e408562" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>CA 공개키</code>를 생성합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="99739c61-f424-45e3-afa5-a1d6efaa7f64" class="code"><code class="language-Shell">$ openssl req -x509 -new -nodes -sha512 -days 365 \
-key ca.key \
-out ca.crt</code></pre><p id="f7abc391-f8cd-4fa0-abc6-a03db012dcce" class=""><mark class="highlight-red"><strong>** 위의 명령어를 실행하면 아래와 같이 몇 가지 사항을 입력하는 스크립트가 실행되는데 아래와 같이 작성하고 Common Name의 경우에는 설치하는 서버의 IP를 입력합니다 **</strong></mark></p><figure id="5c288d4c-63f8-4d4e-a33e-b6dde9921b38" class="image"><a href="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%203.png"><img style="width:1056px" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%203.png"/></a></figure><p id="02e5280e-6293-46ca-95d2-bd756b8577fd" class="">
</p><ul id="769331e1-2c0c-4563-98c1-098cc4e48fb5" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>Server 비밀키</code>를 생성합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="484a7fa1-e5fe-4e80-aafc-54b2f3ec5780" class="code"><code class="language-Shell">$ openssl genrsa -out [harbor 서버의 IP 또는 DNS 주소명].key 4096</code></pre><p id="93a363ab-ab15-4514-aa38-8c0250c2a5e9" class="">
</p><ul id="4f904dd3-89b6-4336-b7ac-8456301348a2" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>Server CSR 파일</code>을 생성합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="11717841-23e4-4d7f-ba56-e5d57296e5ca" class="code"><code class="language-Shell">$ openssl req -sha512 -new \
-key [harbor 서버의 IP 또는 DNS 주소명].key \
-out [harbor 서버의 IP 또는 DNS 주소명].csr</code></pre><p id="bcf12c12-305a-41bb-84a2-cd3d627e1ee0" class=""><mark class="highlight-red"><strong>** 위의 명령어를 실행하면 아래와 같이 몇 가지 사항을 입력하는 스크립트가 실행되는데 아래와 같이 작성하고 Common Name의 경우에는 설치하는 서버의 IP를 입력합니다 **</strong></mark></p><figure id="f64e5578-8c3e-4115-ad6b-0ae975feba28" class="image"><a href="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%203.png"><img style="width:1056px" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%203.png"/></a></figure><p id="61edeaa9-ade0-4f4a-99d6-2511c8aa9ce2" class="">
</p><ul id="95a8a67d-ab20-4671-acb6-0dea31901e10" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>v3ent.cnf</code> 파일을 생성합니다</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="dd6108b8-a63e-45c2-8703-9abe40a531b6" class="code"><code class="language-Shell">$ cat &gt; v3ext.cnf &lt;&lt;- EOF
subjectAltName = IP:[harbor 서버의 IP 또는 DNS 주소명], IP:127.0.0.1
EOF</code></pre><p id="6e110939-07ec-49c5-8410-b9891810da89" class="">
</p><ul id="f814b300-e1bc-4ef0-9fb2-b5740a6cdbe4" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>Harbor Host 인증서</code>를 생성합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b202145d-656d-4346-a5e3-be3b5a0179dd" class="code"><code class="language-Shell">$ openssl x509 -req -sha512 -days 365 \
-extfile v3ext.cnf \
-CA ca.crt -CAkey ca.key -CAcreateserial \
-in [harbor 서버의 IP 또는 DNS 주소명].csr \
-out [harbor 서버의 IP 또는 DNS 주소명].crt</code></pre><p id="34b111e8-08dc-4f66-a488-26f7f3c20f0c" class="">
</p><ul id="62258fb2-9af3-41a4-a934-580b08330a2d" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 Docker에서 crt 파일을 인식할 수 있도록 <strong>crt 파일을 cert로 변환</strong>합니다</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f915c6fb-caf5-402f-9f0f-16638ae5052f" class="code"><code class="language-Shell" style="white-space:pre-wrap;word-break:break-all">$ openssl x509 -inform PEM \
-in [harbor 서버의 IP 또는 DNS 주소명].crt  \
-out [harbor 서버의 IP 또는 DNS 주소명].cert</code></pre><p id="2bba9fa0-26b7-4c73-8007-b28170adeeb6" class="">
</p><ul id="c8a0ba61-9afd-4f1f-8fec-fdb427dd7c3a" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 생성한 인증서를 Docker에 등록합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c72bb56e-64fb-41a2-9c66-f1ac1eb06f65" class="code"><code class="language-Shell">$ mkdir -p /etc/docker/certs.d/[host 명]

$ cp [harbor 서버의 IP 또는 DNS 주소명].cert /etc/docker/certs.d/[host 명]

$ cp [harbor 서버의 IP 또는 DNS 주소명].key /etc/docker/certs.d/[host 명]

$ cp ca.crt /etc/docker/certs.d/[host 명]</code></pre><p id="e6520c9e-6a09-424a-9893-bce626e55a3f" class="">
</p><ul id="18df2358-24c5-43ae-ab56-1830c9abbcae" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 인증서 설정사항이 반영되게 하기 위해 <strong>docker를 재기동</strong>합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="51f0fd9c-25d2-4ad2-ae6b-ea2c8adc678a" class="code"><code class="language-Shell">$ $ systemctl restart docker</code></pre><p id="99de28c3-3546-4d10-b351-522b3de7cfa5" class="">
</p><ul id="8a55864b-a5d4-4394-9a93-a68798ea3fb6" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 패키지를 업데이트하고 <code>ca-certificates</code> 패키지를 설치한 뒤 <code>ca-certificates</code> 인증서를 서버에 등록한 후 업데이트합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9e6de5a9-ed8a-4157-9871-273a478e27a7" class="code"><code class="language-Shell">$ sudo apt update

$ apt install ca-certificates

$ sudo cp [harbor 서버의 IP 또는 DNS 주소명].crt /usr/local/share/ca-certificates/[harbor 서버의 IP 또는 DNS 주소명].crt

$ sudo update-ca-certificates</code></pre><p id="4188873e-dfcf-449f-aebb-7eb0e7c49e82" class="">
</p><h3 id="edb3b1d5-9fb1-4bdb-a6d6-3ebf3dd3806b" class="">2.2.2 Harbor 구성요소 다운로드 &amp; 서버 실행</h3><ul id="e722bd85-160a-4a1c-a209-c2cf5d2578bd" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>home</code>으로 경로 이동 후 wget을 사용하여 <strong>Harbor 구성요소를 다운받은 뒤 파일을 압축 해제</strong>합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3a5af9a8-882c-4ac3-94ec-8490f672b5b3" class="code"><code class="language-Shell" style="white-space:pre-wrap;word-break:break-all">$ cd /home

$ wget https://github.com/goharbor/harbor/releases/download/v2.8.2/harbor-offline-installer-v2.8.2.tgz

$ tar -xvzf harbor-offline-installer-v2.8.2.tgz harbor</code></pre><p id="8b129176-c0e8-4677-b096-bb05808b52e2" class="">
</p><ul id="8898a942-312e-403a-a42c-01bbd29c9397" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <code>harbor</code> 폴더로 경로 이동 후 <code>harbor.yml</code>을 생성한 뒤 수정합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8f0e45d0-225e-40e6-86bf-0b9cb6892d7a" class="code"><code class="language-Shell" style="white-space:pre-wrap;word-break:break-all">$ cd harbor

$ cp harbor.yml.tmp harbor.yml

$ vi harbor.yml</code></pre><p id="5cec67bb-4a82-430d-a5ee-eb4df6eb0343" class="">** 아래 이미지에 표시된 부분을 수정합니다 **</p><ul id="4e1753c8-432f-4e04-b887-417ac685f4f4" class="bulleted-list"><li style="list-style-type:disc"><strong>hostname</strong> : Harbor를 설치할 서버 IP를 입력합니다</li></ul><ul id="926407cb-1dfa-4d76-8efd-9f0d6178f8f5" class="bulleted-list"><li style="list-style-type:disc"><strong>certificate</strong> : docker에 등록한 cert 파일 경로를 입력합니다</li></ul><ul id="c4d63b94-038a-45d3-be2f-71c4843ee274" class="bulleted-list"><li style="list-style-type:disc"><strong>private_key</strong> : docker에 등록한 key 파일 경로를 입력합니다</li></ul><figure id="81301993-bee1-41ac-bbeb-ab26be7bf25d" class="image"><a href="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%204.png"><img style="width:688px" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%204.png"/></a></figure><p id="fbc4cfd4-78f2-4e1c-8a82-5dfecd28b893" class="">
</p><ul id="16680d37-7262-4cb1-9381-d8b9c589886e" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <strong>harbor를 기동</strong>합니다.</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="93cda59c-56f8-4851-aa03-45cdff92daf5" class="code"><code class="language-Shell">$ ./prepare

# 서버단에서 실행하고 싶으면 ./install.sh
# docker container로 실행하고 싶으면 docker-compose up -d
$ (./install.sh) or (docker-compose up -d)</code></pre><p id="3b266e76-df9a-46f1-af11-8d8ed385e841" class="">
</p><ul id="a54feeff-ce65-4ab9-aae5-0a03231faa56" class="bulleted-list"><li style="list-style-type:disc">아래의 명령어를 입력하여 <strong>Harbor 전용 docker login</strong>을 합니다.<ul id="1633402e-9019-422f-9905-955f57c64e75" class="bulleted-list"><li style="list-style-type:circle">초기 ID, PW<ul id="35bd8845-7bda-4f37-a439-bce15b0c7f69" class="bulleted-list"><li style="list-style-type:square">ID : admin</li></ul><ul id="d904d68f-d8ff-48a4-bc5a-28ac338f45a5" class="bulleted-list"><li style="list-style-type:square">PW : Harbor12345</li></ul></li></ul></li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="485148f1-5a07-4bfc-979f-74d018954cb7" class="code"><code class="language-Shell">$ docker login https://[harbor 서버의 IP 또는 DNS 주소명]</code></pre><p id="92a095dd-ef3c-4d02-8937-70201201ded5" class="">
</p><ul id="72eb32ea-1974-457b-a943-06fafe68e57d" class="bulleted-list"><li style="list-style-type:disc">브라우저(Ex. Chrome, Safari…)에서 Harbor에 접속한 뒤 위의 초기 ID, PW를 이용하여 로그인합니다<ul id="92725bdc-9e8e-42f0-96d9-6d2c911c31b4" class="bulleted-list"><li style="list-style-type:circle">Harbor URL : https://{Server_IP}</li></ul></li></ul><figure id="2122fa9e-c7bd-449f-8a99-f252b3556a5b" class="image"><a href="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%205.png"><img style="width:1362px" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%205.png"/></a></figure><p id="0d3fb538-26a8-4209-bd57-cb31f71702e2" class="">
</p><hr id="66a267f1-4293-476a-b860-4da40d74c829"/><h1 id="32cc6765-b20c-4aea-a152-942e709d16fb" class="">3. CI / CD 파이프라인 구성</h1><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="684586e6-a613-4e8b-892d-8733f30034de"><div style="font-size:1.5em"><span class="icon">🪪</span></div><div style="width:100%">이 항목에서는 CI / CD Tool, Docker Image Registry를 활용하여 <strong>본 프로젝트에서 CI / CD 파이프라인을 구성한 방식에 대해 설명</strong>합니다.</div></figure><h2 id="d4ab6f78-15d5-4105-921d-a20d04ba31e6" class="">3.1 CI / CD Pipeline Architecture</h2><p id="349ce296-b158-42f7-a8bb-058a90e4f12c" class=""><mark class="highlight-red"><strong>** 3. Git Clone In Server 이후의 단계는 Groovy Script로 작성된 Jenkinsfile을 토대로 자동화가 진행됩니다 **</strong></mark></p><figure id="0249df1a-8419-49a0-991c-fb0380efa443" class="image"><a href="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%206.png"><img style="width:3728px" src="%E1%84%8B%E1%85%A9%E1%84%91%E1%85%B3%E1%86%AB%E1%84%89%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%E1%86%BC%20CI%20CD%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%20%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8C%E1%85%A1%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%BC%E1%84%91%2044865c94a7cf4fb29f2501ebac09023b/Untitled%206.png"/></a></figure><h3 id="7fec3f9d-6bfe-460d-bf53-c5a467c9c233" class="">3.1.1 Commit &amp; Push</h3><ul id="5d36bf1b-6323-4da7-b1ba-089b18688f72" class="bulleted-list"><li style="list-style-type:disc">개발자가 소스코드를 수정한 뒤 Commit &amp; Source Repository에 Push합니다</li></ul><h3 id="9c41fcf2-fc0f-48ef-a519-ca5de1d83acc" class="">3.1.2 Git Webhook</h3><ul id="657f9175-d4e7-4679-bd10-dbca67435623" class="bulleted-list"><li style="list-style-type:disc">Source Repository에서 소스 변경사항을 감지하여 연동된 Jenkins Server에 관련 정보를 Webhook을 통해 전달합니다</li></ul><h3 id="8de16804-ce48-4189-b704-39686e84c5cd" class="">3.1.3 Git Clone In Server</h3><ul id="3b4d1a79-f5e7-473d-9625-0c4b97feabd9" class="bulleted-list"><li style="list-style-type:disc">Source Repository에서 Webhook을 전달받은 Jenkins에서 소스코드를 <code>git clone</code>을 통해 내려받습니다.</li></ul><h3 id="40a668f5-acb4-4bb5-a06d-ce2066b2ec78" class="">3.1.4 Build Docker Image</h3><ul id="3630d6e5-c3bf-4622-87f2-6fe213918775" class="bulleted-list"><li style="list-style-type:disc">소스코드에 포함된 Dockerfile을 토대로 Source를 Docker Image로 빌드합니다.</li></ul><h3 id="e6c9f42e-16ea-4089-87ae-b4c96233e2a6" class="">3.1.5 Deploy to Server</h3><ul id="12bcf7be-4f15-4f47-97ac-3975088311c4" class="bulleted-list"><li style="list-style-type:disc">앞선 과정에서 빌드된 Docker Image를 컨테이너로 실행하여 서버에 배포합니다</li></ul><h3 id="efb7e5bb-c977-40f5-a1db-15f06bbbb99b" class="">3.1.6 Push Docker Image</h3><ul id="00cea05c-ee1c-4b15-902f-3ad1115c68b6" class="bulleted-list"><li style="list-style-type:disc">빌드되어 실행된 Docker Image를 Docker Image Registry(Harbor)에 Push하여 이미지를 저장합니다</li></ul><hr id="6efd1e80-a5ef-490d-8b60-c731e74cf337"/><h2 id="5dffe195-300a-4ea4-8153-a79b91c7fd91" class="">3.2 Jenkinsfile</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="379ac0f9-be26-497d-be10-d5cdf351df8c" class="code"><code class="language-Shell"></code></pre></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>